<head>
	<title>chat</title>
</head>

<body>
	<div class="row">
		{{> rooms}}
		{{renderPage}}
	</div>
</body>


<template name="rooms">
	<br>
	<form name="new_row">
		<table id="rooms" class="table table-striped span6">
			<thead>
				<tr>[]
					<th>Room Name</th>
					<th>Members online</th>
					<th>Last activity</th>
				</tr>
			</thead>
			<tbody>
				{{#each rooms}}
				<tr>
					<td><a href="/rooms/{{_id}}">{{name}}</a></td>
					<td>{{members}}</td>
					<td>{{last_activity}}</td>
				</tr>
				{{/each}}
				<tr>
					<td colspan="3">
						<input id="roomName" type="text" placeholder="Enter new room name"/>
						<button id="createRoom" type="button" class="btn btn-primary pull-right">
							<i class="icon-plus"></i>Create Room
						</button>
						<button type="submit" class="btn btn-primary pull-right">
							<i class="icon-plus"></i>Submit
						</button>
					</td>
				</tr>
			</tbody>
		</table>
	</form>
</template>

<template name="home">
	<div class="span6">
		<h1>Welcome to Meteor Chat!</h1>
		<p>Select a room or create a new one</p>	
	</div>	
</template>


<template name="room">
	<div class="span6">
		<h1>Welcome to {{name}}</h1>
		<form name="message_form">		
			<table id="chat" class="table table-striped">
				<tbody>
					{{#each messages}}
						<tr>
							<td>{{author}} :</td>
							<td>{{text}}</td>
						</tr>
					{{/each}}
					<tr>
						<td>
							<input id="author" type="text" class="form-control" placeholder="author"/>
						</td>
						<td>

							<input id="message" type="text" class="form-control" placeholder="message"/>
						</td>
					</tr>
					<tr>
						<td colspan="2">
							<button type="submit" class="btn btn-primary pull-right">
								<i class="icon-envelope"></i> Send Message
							</button>
						</td>
					</tr>
				</tbody>
			</table>
			</form>
	</div>
</template>
